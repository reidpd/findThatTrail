<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>directions page</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../css/materialize.css">
    <link rel="stylesheet" href="../css/main.css">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 60%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <div id="right-panel" class=""></div>

    <!-- SCRIPTS -->
    <script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=" crossorigin="anonymous"></script>
    <script src="../js/materialize.js"></script>
    <script type="text/javascript" src="../keys_conf.js"></script>
    <script type="text/javascript" src="../js/directions_magic.js"></script>
    <script>
    function getOrPrompt(lsKeyValue) {
      var valInStorage = localStorage.getItem(lsKeyValue);

      if(!valInStorage) {
        valInStorage = prompt(`GMAPS_KEY = '74sJ7BYGosmsheNK9VN4vG1cDYBqp1c7zJajsnDv55MMgCrcDE', TRAIL_KEY = 'AIzaSyBALK0h6KPFdcFDB541SYg6tJ0M_SurRAw', Enter a value for ${lsKeyValue}`);
        localStorage.setItem(lsKeyValue, valInStorage);
      }

      return valInStorage;
    }

    let GMAPS_KEY = getOrPrompt('GMAPS_KEY');
    let TRAIL_KEY = getOrPrompt('TRAIL_KEY');
    let googleSrc = `` // put proper src in here
    let scriptTag = document.createElement('script');
    scriptTag.src = googleSrc;
    document.body.append(scriptTag);
    </script>
    <script>
     var GOOGLE_MAP_KEY = localStorage.GMAPS_KEY;
     function loadScript() {
       var script = document.createElement('script');
       script.type = 'text/javascript';
       script.src = 'https://maps.googleapis.com/maps/api/js?' +
       'key=' + GOOGLE_MAP_KEY +'&callback=initMap';
       script.async = true;
       script.defer = true;
       document.body.appendChild(script);
     }
     window.onload = loadScript;
    </script>

  </body>
</html>
